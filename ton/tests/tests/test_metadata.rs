use crate::tests::utils::init_logging;
use core::panic;
use sha2::Digest;
use sha2::Sha256;
use std::str::FromStr;
use tokio_test::assert_ok;
use ton_lib::tep::jetton::JettonMetadata;
use ton_lib::tep::metadata::MetaLoader;
use ton_lib::tep::nft::NFTItemMetadata;
use ton_lib::tep::snake_data::SnakeData;
use ton_lib::tep::tvm_results::GetJettonDataResult;
use ton_lib::tep::tvm_results::GetWalletAddressResult;
use ton_lib::tep::tvm_results::TVMResult;
use ton_lib_core::cell::TonHash;

#[tokio::test]
async fn test_get_jetton_metadata_complex() -> anyhow::Result<()> {
    init_logging();

    assert_get_jetton_content_uri().await?;
    assert_get_jetton_content_internal_uri().await?;
    assert_get_jetton_content_internal_uri_jusdt().await?;
    assert_get_jetton_content_empty_external_meta().await?;
    assert_get_semi_chain_layout_jetton_content().await?;
    assert_get_wallet_address().await?;
    assert_get_jetton_data_invalid_utf8_sequence().await?;
    assert_jetton_image_data().await?;

    Ok(())
}

async fn assert_get_jetton_content_uri() -> anyhow::Result<()> {
    // This boc is the stack of get_jetton_data() on EQDk2VTvn04SUKJrW7rXahzdF8_Qi6utb0wj43InCu9vdjrR
    let res = GetJettonDataResult::from_boc_hex("b5ee9c7201021a010003ac00020800000503010802020302070209040f1470200304011201ffffffffffffffff0502517038f504e10a000801bf6feee5bff07f3238df435d6c58addbe0b3a94bb05cec14a6241566cb3e6175070801120100038f504e10a000060000004a0168747470733a2f2f746172616e74696e692e6465762f73746f6e2f6d6f6f6e2e6a736f6e0114ff00f4a413f4bcf2c80b090201620a0b0202cc0c0d001ba0f605da89a1f401f481f481a8610201d410110201480e0f0201201415020120121300bb0831c02497c138007434c0c05c6c2544d7c0fc02f83e903e900c7e800c5c75c87e800c7e800c00b4c7e08403e29fa954882ea54c4d167c0238208405e3514654882ea58c511100fc02780d60841657c1ef2ea4d67c02b817c12103fcbc2000113e910c1c2ebcb8536000db3b51343e803e903e90350c01f4cffe803e900c145468549271c17cb8b049f0bffcb8b0a0822625a02a8005a805af3cb8b0e0841ef765f7b232c7c572cfd400fe8088b3c58073c5b25c60063232c14933c59c3e80b2dab33260103ec01004f214013e809633c58073c5b3327b55200083200835c87b51343e803e903e90350c0134c7e08405e3514654882ea0841ef765f784ee84ac7cb8b174cfcc7e800c04e81408f214013e809633c58073c5b3327b552001f500f4cffe803e90087c007b51343e803e903e90350c144da8548ab1c17cb8b04a30bffcb8b0950d109c150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c032483e401c1d3232c0b281f2fff274013e903d010c7e801de0063232c1540233c59c3e8085f2dac4f3208405e351467232c7c6601603f73b51343e803e903e90350c0234cffe80145468017e903e9014d6f1c1551cdb5c150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c0327e401c1d3232c0b281f2fff274140371c1472c7cb8b0c2be80146a2860822625a020822625a004ad822860822625a028062849f8c3c975c2c070c008e0171819009acb3f5007fa0222cf165006cf1625fa025003cf16c95005cc2391729171e25008a813a08208989680aa008208989680a0a014bcf2e2c504c98040fb001023c85004fa0258cf1601cf16ccc9ed5400705279a018a182107362d09cc8cb1f5230cb3f58fa025007cf165007cf16c9718018c8cb0524cf165006fa0215cb6a14ccc971fb0010241023000e10491038375f040076c200b08e218210d53276db708010c8cb055008cf165004fa0216cb6a12cb1f12cb3fc972fb0093356c21e203c85004fa0258cf1601cf16ccc9ed54")?;
    assert_eq!(
        res.content.as_external().unwrap().uri.data,
        SnakeData::from_str("https://tarantini.dev/ston/moon.json")?.data
    );
    let meta_loader = MetaLoader::builder().build()?;
    let content_res: JettonMetadata = assert_ok!(meta_loader.load(&res.content).await);
    assert_eq!(content_res.symbol.as_ref().unwrap(), &String::from("MOON"));
    assert_eq!(content_res.decimals.unwrap(), 0x9);
    Ok(())
}

async fn assert_get_jetton_content_internal_uri() -> anyhow::Result<()> {
    // This boc is the stack of get_jetton_data() on EQDCJL0iQHofcBBvFBHdVG233Ri2V4kCNFgfRT-gqAd3Oc86
    let res = GetJettonDataResult::from_boc_hex("b5ee9c72010233010007df00020800000503010802020302070209041114f0200304011201ffffffffffffffff05025381d1fdcc6d2d18ce38010dc9f0e63246b94c21dc2b7fa5783f07f2397cd1fa751a18706809a0119fe76b07080112011d1fdcc6d2d18ce3060000010300c00a0114ff00f4a413f4bcf2c80b090201620b0c02012013140202cb0f100201200d0e0025bfd8176a2687d007d207d206a7a027d00182dc0077bda46f6a2687d007d207d206a7a027d00182e7c11c70f1140107a4b37d290499811ddc898f1104c1afd006889d0a009c93610f159f31818a90850ac402012015160201ce111201d30cbb51343e803e903e90353d013e800c0274cffe803e900c14dee848a8549f31c17cb8b042b0bffcb8b08220824c4b402805ef3cb8b0d451a860841ef765f7b232c7c5b2cfd401be8088b3c59401b3c5b25c60063232c149f3c59c3e80b2dab33260103ec0114510c4e024009d200835c87b51343e803e903e90353d013e800c01b4c7e08405e3514654882ea0841ef765f784ee84ac7cb8b174cfcc7e800c056801440d104c321401be80940133c59633c5b33d00007e80b27b55200143bff082eb663b57a00192f4a6ac467288df2dfeddb9da1bee28f6521c8bebd21f1ec01f020120191a0201d417180201201b1c03df0831c02497c138007434c0c05c6c2544d7c0fc04783e903e900c7e800c5c75c87e800c7e800c00b4c7e08403e29fa954882ea54c4d167c0378208405e3514654882ea58c511100fc03f820841657c1ef14882ea54c510d3c04380cc8300138c088300178c0b001b8c097c12103fcbc2020212200113e910c1c2ebcb85360020120252602012027280201202a2b0201201d1e0201202d2e01f75ed44d0fa00fa40fa40d4f404fa00300ad33ffa00fa40fa40537dc7055473876d7054503121104710365077c85006fa025004cf1658cf16ccf40001fa02c921c8cb0113f40012f400cb00c9f9007074c8cb02ca07cbffc9d0500fc7051eb1f2e2c35182a00cfa0051caa1820898968066b608a18208989680a01aa1823004c0068747470733a2f2f63646e2e66616e7a2e65652f746f6b656e732f666e7a3530302e706e6700a43001d33fd4fa403001d05003f00a43305121a1820898968066b608a18208989680a0a122d70b01c30021c200b08e1f8210d53276db708010c8cb055005cf1658fa0213cb3f12cb1fcb3fc972fb00925f03e2009c3001d33ffa403002f00943305121a1820898968066b608a18208989680a0a122d70b01c30021c200b08e1f8210d53276db708010c8cb055005cf1658fa0213cb3f12cb1fcb3fc972fb00925f03e2009a01d33ffa403002f00c43305121a1820898968066b608a18208989680a0a122d70b01c30021c200b08e1f8210d53276db708010c8cb055005cf1658fa0213cb3f12cb1fcb3fc972fb00925f03e201f2298e38529ba01aa182107362d09cc8cb1f5230cb3f58fa025009cf165009cf16c9718010c8cb0526cf165008fa0217cb6a16ccc971fb001046104597104b103a395f04e223d70b01c30025c200b08e218210d53276db708010c8cb055006cf165006fa0214cb6a14cb1f14cb3fc972fb00926c33e21045403424002ac85006fa025004cf1658cf16ccf40001fa02c9ed540141bf4546a6ffe1b79cfdd86bad3db874313dcde2fb05e6a74aa7f3552d9617c79d13290141bf6ed4f942a7848ce2cb066b77a1128c6a1ff8c43f438a2dce24612ba9ffab8b032c0141bf5208def46f5a1d4f9dce66ab309f4a851305f166f91ef79d923ef58e34f9a209300141bf5d01fa5e3c06901c45046c6b2ddcea5af764fea0eed72a10d404f2312ceb247d2f001a0046616e7a656520546f6b656e00655ed44d0fa00fa40fa40d4f404fa00305b5215c705f2e2c16d1034413070c85006fa025004cf1658cf16ccf40001fa02c9ed54800c74ed44d0fa00fa40fa40d4f404fa00305237c705f2e2c18e3226c70020b38e2a07d31ffa005181a053238020f40e6fa196fa00d112a0019130e2c858fa0240038020f44306d430d05067dee6365513c85006fa025004cf1658cf16ccf40001fa02c9ed548000800464e5a00bb3b51343e803e903e90353d013e800c14cdb1c1549631c145ec7cb8b054017e08e38788a0083d259be94824cc08eee44c7888260d7e803444e85004e49b0878acf98c0411440d0408f21401be80940133c59633c5b33d00007e80b27b552001f700f4cffe803e90087c007b51343e803e903e90353d013e800c14d4284a68549771c17cb8b042f0bffcb8b09451e8550d885b5c15140c484411c40d941df21401be80940133c59633c5b33d00007e80b2487232c044fd0004bd0032c032483e401c1d3232c0b281f2fff27401be903d010c7e800835d270803cb8b120310004003901fe0066616e7a2e6565206973206120776562332066616e20656e676167656d656e7420706c6174666f726d2064657369676e656420746f2068656c702073706f72747320616e6420656e7465727461696e6d656e74206f7267616e69736174696f6e73206d65616e696e6766756c6c7920636f6e6e65637420776974682074683200d4778018c8cb05500acf1670fa0219cb6b13cc8210178d4519c8cb1f1bcb3f5009fa0224cf165008cf1627fa025005cf16c95007cc2591729171e2500aa815a08209c9c380a016bcf2e2c506c98040fb004515503304c85006fa025004cf1658cf16ccf40001fa02c9ed5400666569722066616e73207468726f75676820696d6d6572736976652067616d696669636174696f6e20657870657269656e636573")?;

    let meta_loader = MetaLoader::builder().build()?;
    let content_res: JettonMetadata = assert_ok!(meta_loader.load(&res.content).await);
    assert_eq!(content_res.symbol.as_ref().unwrap(), &String::from("FNZ"));
    assert_eq!(content_res.decimals.unwrap(), 0x9);
    Ok(())
}

async fn assert_get_jetton_content_internal_uri_jusdt() -> anyhow::Result<()> {
    // This boc is the stack of get_jetton_data() on EQBynBO23ywHy_CgarY9NK9FTz0yDsG82PtcbSTQgGoXwiuA
    let res = GetJettonDataResult::from_boc_hex("b5ee9c72010223010004d900020800000503010202020303040114ff00f4a413f4bcf2c80b05020904000020200607010300c008020162090a011201ffffffffffffffff0b0001200201200c0d0202cb0e0f001ba0f605da89a1f401f481f481a9a3011201000000cba05dc3411002016e11120143bff7407e978f01a40711411b1acb773a96bdd93fa83bb5ca8435013c8c4b3ac91f40130201ce1415020158161700000141bf04175b31dabd000c97a53562339446f96ff6edced0df7147b290e45f5e90f8f6180141bf03975eda8a6ce4be141dbf85728bc814f15b08ce1ca3138cf27a376c7ba09f32190004003602f70831c02497c138007434c0c05c6c2544d7c0fc07783e903e900c7e800c5c75c87e800c7e800c1cea6d0000b4c7c076cf16cc8d0d0d09208403e29fa96ea68c1b088d978c4408fc06b809208405e351466ea6cc1b08978c840910c03c06f80dd6cda0841657c1ef2ea7c09c6c3cb4b01408eebcb8b1807c073817c1601a1b00113e910c30003cb853600201581c1d0201481e1f009c0068747470733a2f2f6272696467652e746f6e2e6f72672f746f6b656e2f312f3078646163313766393538643265653532336132323036323036393934353937633133643833316563372e706e67009e0068747470733a2f2f6272696467652e746f6e2e6f72672f746f6b656e2f312f3078646163313766393538643265653532336132323036323036393934353937633133643833316563372e6a736f6e005c804ff833206e953080b1f833de206ef2d29ad0d30731d3ffd3fff404d307d430d0fa00fa00fa00fa00fa00fa00300008840ff2f001f70174cfc0407e803e90087c007b51343e803e903e903534544da8548b31c17cb8b04ab0bffcb8b0950d109c150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c032481c007e401d3232c084b281f2fff274013e903d010c7e800835d270803cb8b13220060072c15401f3c59c3e809dc072dae02002f33b51343e803e903e90353442b4cfc0407e80145468017e903e9014d771c1551cdbdc150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c0325c007e401d3232c084b281f2fff2741403f1c147ac7cb8b0c33e801472a84a6d8206685401e8062849a49b1578c34975c2c070c00870802c20212200eb3b51343e803e903e9035344174cfc0407e800870803cb8b0be903d01007434e7f440745458a8549631c17cb8b049b0bffcb8b0b220841ef765f7960100b2c7f2cfc07e8088f3c58073c584f2e7f27220060072c148f3c59c3e809c4072dab33260103ec01004f214013e809633c58073c5b3327b55200087200835c87b51343e803e903e9035344134c7c06103c8608405e351466e80a0841ef765f7ae84ac7cbd34cfc04c3e800c04e81408f214013e809633c58073c5b3327b552000aa13ccc88210178d4519580a02cb1fcb3f5007fa0222cf165006cf1625fa025003cf16c95005cc2391729171e25007a813a008aa005004a017a014bcf2e2c501c98040fb004300c85004fa0258cf1601cf16ccc9ed5400725269a018a1c882107362d09c2902cb1fcb3f5007fa025004cf165007cf16c9c8801001cb0527cf165004fa027101cb6a13ccc971fb0050421300748e23c8801001cb055006cf165005fa027001cb6a8210d53276db580502cb1fcb3fc972fb00925b33e24003c85004fa0258cf1601cf16ccc9ed54")?;
    let meta_loader = MetaLoader::builder().build()?;
    let content_res: JettonMetadata = assert_ok!(meta_loader.load(&res.content).await);
    assert_eq!(content_res.symbol.as_ref().unwrap(), &String::from("jUSDT"));
    assert_eq!(content_res.decimals, Some(6));
    Ok(())
}

async fn assert_get_jetton_content_empty_external_meta() -> anyhow::Result<()> {
    // This boc is the stack of get_jetton_data() on EQD-J6UqYQezuUm6SlPDnHwTxXqo4uHys_fle_zKvM5nYJkA
    let res = GetJettonDataResult::from_boc_hex("b5ee9c72010245010013a800020800000503010802020302070209040d13f0200304011201ffffffffffffffff05024f601985184a612800eef267dce0c0b3f961e8e22cb6a5ab9186b8d0d8846e5411a2d023fc41b514d50708011201000001985184a612060000010300c00a0114ff00f4a413f4bcf2c80b090201620d0e0201200b0c02016e0f1002012011120202ce1314001ba0f605da89a1f401f481f481a8610141bf04175b31dabd000c97a53562339446f96ff6edced0df7147b290e45f5e90f8f6180141bf03975eda8a6ce4be141dbf85728bc814f15b08ce1ca3138cf27a376c7ba09f321a02012015160201201f2004b3420c700925f04e001d0d3030171b08e85135f03db3ce0fa40fa4031fa003171d721fa0031fa003073a9b40002d31f012082100f8a7ea5ba8e85303459db3ce0208210178d4519ba8e8630444403db3ce035248210595f07bcba81b1c1d1e00114fa4430c000f2e14d80141bf4546a6ffe1b79cfdd86bad3db874313dcde2fb05e6a74aa7f3552d9617c79d13170141bf6ed4f942a7848ce2cb066b77a1128c6a1ff8c43f438a2dce24612ba9ffab8b0319001c00426c61636b48617420436f696e00a60068747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f426c61636b486174436f696e2f6a6574746f6e2f6d61737465722f6c6f676f5f6c69676874323536783235362e706e67000a00424c4b4300a40068747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f426c61636b486174436f696e2f6a6574746f6e2f6d61737465722f6a6574746f6e5f6d657461646174612e6a736f6e008a8020d721ed44d0fa00fa40fa40d43004d31f018200fff0218210178d4519ba0282107bdd97deba12b1f2f4d33f0130fa003013a05023c85004fa0258cf1601cf16ccc9ed5401f603d33f0101fa00fa4021f002ed44d0fa00fa40fa40d4305136a1522ac705f2e2c128c2fff2e2c254344270542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c920f9007074c8cb02ca07cbffc9d004fa40f40431fa0020d749c200f2e2c4c88210178d451901cb1f500a01cb3f5008fa022202f6ed44d0fa00fa40fa40d43008d33f0101fa005151a005fa40fa40535bc70554736d70542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c9f9007074c8cb02ca07cbffc9d0500dc7051cb1f2e2c30afa0051a8a12195104a395f04e30d048208989680b60972fb0225d70b01c30003c20013232402d48e843459db3ce06c22ed44d0fa00fa40fa40d43010235f032382106d8e5e3cba8e37335222c705f2e2c1820898968070fb02c8801001cb0558cf1670fa027001cb6a8210d53276db01cb1f01d33f013101cb3fc9810082fb00e0038210768a50b2bae3025f03840ff2f0272802012025260141bf5d01fa5e3c06901c45046c6b2ddcea5af764fea0eed72a10d404f2312ceb247d210004003800a223cf1601cf1626fa025007cf16c9c8801801cb055004cf1670fa024063775003cb6bcccc2391729171e25008a813a0820a43d580a014bcf2e2c504c98040fb004013c85004fa0258cf1601cf16ccc9ed540072521aa018a1c882107362d09c01cb1f2401cb3f5003fa0201cf165008cf16c9c8801001cb0524cf165006fa0250057158cb6accc971fb001035007cb08e26c8801001cb055005cf1670fa027001cb6a8210d53276db01cb1f500301cb3fc9810082fb0012923333e25003c85004fa0258cf1601cf16ccc9ed540141bf2411bde8deb43a9f3b9ccd56613e950a260be2cdf23def3b247deb1c69f344122a0141bf26a2333b1e7bbd67212d9c44da883b39334032aab56f11f8b08220a4553ba7922900e6ed44d0fa00fa40fa40d43007d33f0101fa00fa40305151a15249c705f2e2c127c2fff2e2c2058209ab3f00a016bcf2e2c3c882107bdd97de01cb1f500501cb3f5003fa0222cf1601cf16c9c8801801cb0523cf1670fa02017158cb6accc98040fb004013c85004fa0258cf1601cf16ccc9ed5400965222c705f2e2c1d33f0101fa40fa00f40430c8801801cb055003cf1670fa0270c882100f8a7ea501cb1f500501cb3f58fa0224cf165004cf16f40070fa02ca00c97158cb6accc98040fb0001fe0050484e325a79423462577875637a30696148523063446f764c336433647935334d793576636d63764d6a41774d43397a646d636949485a705a58644362336739496a41674d4341784d6a63784c6a5135494445794e7a45754e446b69506a786b5a575a7a506a787a64486c735a5434755932787a4c5446375a6d6c7362442b006c00426c61636b48617420436f696e2077726170706564204a6574746f6e2e2054656c656772616d3a2040626c61636b686174636f696e01fc6f6a597a566a4e574d324f3330755932787a4c5449734c6d4e736379307a65325a7062477736497a4d784e444930595474394c6d4e736379307a65334e30636d39725a546f6a4d546b79596a4d7a4f334e30636d39725a5331746158526c636d787062576c304f6a45774f334e30636d39725a5331336157523061446f312c01fc634867376653356a62484d744e48746d615778734f694d784f544a694d7a4d376653356a62484d744e58746d615778734f694e6d5a6d593766547776633352356247552b5043396b5a575a7a506a786e49476c6b50534c516f644337304c3751755638794969426b595852684c5735686257553949744368304c765176742d01fc433549444969506a786e49476c6b50534c516f644337304c3751755638784c5449694947526864474574626d46745a543069304b48517539432b304c6b674d53492b50474e70636d4e735a53426a6247467a637a30695932787a4c54456949474e34505349324d7a55754e7a556949474e35505349324d7a55754e7a55692e01fc49484939496a597a4e5334334e534976506a78775958526f49474e7359584e7a50534a6a62484d744d6949675a443069545455794d7934334e43777a4e6a59754d6a647a4c5451304c6a51304c4449744f4463754e5445734d474d744e4445744d5334354d7930324d5334774e5377314c6a67744e7a59754e7a6b734d542f01fc59754e7a6b744d5449754e7a45734f4334344e79307a4d6934304f5377794e5334314d69307a4f5334344d7977314f5334334f584d304c6a45734d5441334c6a4d314c4451754d5377784d4463754d7a56734d5459754e7a67734d5449794c4449304c6a63354c44457a4d4334354d334d784e4455754d5377794c6a41323001fc4c4449334f4334344f4330314d5334304e564d354d6a51754d4463734e5467304c6a59784c446b794e4334774e7977314f4451754e6a467a4c5334304e7930304c6a45334c5449754e544d744d6a45754e6a59744d5459744e7a55754e7a4d744e4441754e6a6b744d5449324c6a45314c5455784c5445774e7934344d793101fc30354e4334324e7930784e4455754d574d744e4463754d7a51744e4441754d7a6b744e446b754e7a49744d7a6b754e5455744d5441784c6a63794c5449314c6a4d304c5467754d7a51734d6934794e7930784e4334784d69777a4c6a517a4c5455344c6a59734d7a63754e4449744d5445754e7977344c6a6b304c5455773201fc4c6a59314c4451334c6a59744e5441754e6a55734e4463754e6c4d314e6a41754d6a4d734d7a597a4c6a59344c4455794d7934334e43777a4e6a59754d6a64614969382b50484268644767675932786863334d39496d4e736379307a4969426b50534a4e4d7a55334c6a55734e7a45784c6a517a637930324e79347a4e433301fc77784d4334304d6930784d7a55754d6a59734d7a51754d446b744e6a51754f444d734e5463754e6a51744e6a51754f444d734e5463754e6a51744c6a63314c4449794c6a59784c444d794c6a6b7a4c44557a4c6a56444d6a49784c6a59734f4467314c6a4d304c444d7a4e4377354e6a59754d7a6b734e54457a4c6a51333401fc4c446b7a4d6934344d6d4d784d6a59754f4449744d6a4d754e7a49734d6a45354c6a45324c546b304c4449784f5334784e6930354e4377344f4334324e5330334d4334304f5377784e544d754f446b744d5451304c6a67334c4449794e6934784e4330784e7a55754e7a49734e446b754f4467744d6a45754d7977354e693501fc34324f4330304d5334784e5377784d6a45754d6a4d744e6a55754d6a67734d5459754d7a4d744d5459734e4445744e5445754d4459734d6a4d754d7a45744f4467754e5467744d5463754d5455744d7a59754d6a63744e5441754e6a6b744e446b754e5451744f5467754d7a6b744d7a67754e44687a4c5445774f5334793601fc4e5377304f5334324f5330784d446b754d6a55734e446b754e6a6c614969382b50484268644767675932786863334d39496d4e73637930304969426b50534a4e4e4441324c6a67344c444d344d324d744d6a45754f4467734d5451754d7a45744d7a63754e446b734e444d744e4451754d6a45734e6a41754e5451744d693701fc77314c6a4d744e4334344c4445324c6a55784c4459754e7a4d734d6a45754e7a467a4d544d334c6a6b744d6a67754d6a51734d5463794c6a63344c545135597a55354c6a67314c544d314c6a55304c4467354c6a4d784c5467354c6a51314c4445774d7934774e7930784d4455754f554d324e7a6b754e7a59734d6a59353801fc4c6a45334c4463784f5334354d5377794e5467734e7a45354c6a6b784c4449314f484d744d5467754e7a49754d5459744e4455754d5377784d5334324e574d744d5445754d7a45734e4334354d6930794e4334774e7977784d79347a4e53307a4e7934794f5377794d6934304d6930304f4334794e43777a4d7934774f433901fc30304d6934304d5377304f5330334d6934324d5377324d7934324e79307a4d4377784e4334314e6930334f4334794e7977784d43347a4f5330354e43347a4e5377784d53347a4f454d304d6a6b754e6a59734d7a59354c6a59734e4449774c6a6b7a4c444d334d7934344d7977304d4459754f4467734d7a677a576949763a01fc506a78775958526f49474e7359584e7a50534a6a62484d744e4349675a443069545463774e6934324d5377794e6a59754f474d744f4334794e5377314c6a6b314c5449304c6a597a4c4445354c6a45314c5455334c6a677a4c4463304c6a6332517a59304d4334324e43777a4e5455754d6977324d5445734e4441324c443b01fc55314f5377304d7a67754f4377314d5459754e4455734e4459314c6a59334c4451314d4334304e6977304e7a59734e444d354c6a51344c4451344d5334304e324d744d5455754d5467734e7934314f4330794e6934344f4377784e6934774f4330784f5334304c4463774c6a4d79637a49774c6a55334c4445794d6934313c01fc4d6977794d4334314e7977784d6a49754e5449734d5459344c6a63354c6a6b7a4c4445354d79347a4e5330324c6a55314c4449774e5330794d6934304f4377794d6a49754d7a45744d7a51754e444d734e6a63754e7a59744e4467754e7a49734e6a63754e7a59744e4467754e7a49744d5334794f5330344e7934794d793d01fc30334d69347a4f4330794d4463754e474d744d5445754d6a51744d546b744d6a49744d7a67754e7a59744d7a59754e6a49744e5459754e5463744d5459754e6a63744d6a41754d6a59744d7a63754d7a6b744d7a67754d7a6b744e5463754f4449744e5449754e554d334d7a4d754e6a63734d6a55784c6a67314c4463793e01fc4d4334314e5377794e5459754e7a55734e7a41324c6a59784c4449324e69343457694976506a78775958526f49474e7359584e7a50534a6a62484d744e4349675a44306954546b794e4334774e7977314e5449754d445a7a4e6a4d754e5445744e4463754f4377354f4334324e4330314d324d794f5334334e7930304c6a3f01fc51784c4451334c4445754d4455734e5451734d7934794f53777a4d53347a4d6977784d4377304e4334344d79777a4e7934794e4377344c6a45794c4467354c6a4d354c5445784c6a4d354c4445324c6a45344c5459344c6a51324c4451304c6a67744f544d754e7a63734e5463754e454d344f5441734e6a6b354c6a51344001fc4c446b774d4377324e6a67754e7a6b734e7a63354c44637a4d6d4d744d7a49754f4467734d5463754d5463744d544d794c6a59344c4455314c6a637a4c5449784d7934784d6977324e4334794d5330784d5467754e6a63734d5449754e5449744d6a41774c6a55344c4463744d6a41774c6a55344c44647a4d5463324c544101fc45774c6a63334c4449794f4334314c544d32557a63344f5377324e7a63754d7a55734f4445354c6a67324c4459304f5334354c446b794e4334774e7977314e5449754d4459734f5449304c6a41334c4455314d6934774e6c6f694c7a3438634746306143426a6247467a637a30695932787a4c54556949475139496b307a4201fc4e4441754e446b734e6a63794c6a4979624449304c6a63354c44457a4d4334354d334d784d4449754f444d744d6934344d5377784e544d754e6a4d744d544d754d44646a4e7a63754f5451744d5455754e7a4d734d5451784c6a51344c54517a4c6a55334c4445344e53347a4e7930324e5334334e4377334d4334344d794301fc307a4e5334334f4377784e5467754f5449744f5455754f444d734d5455344c6a6b794c546b314c6a677a637930784e5467754d7a67734d6a6b754e6a51744d546b324c6a557a4c444d7a4c6a63784c5445324f5334304d7977784d5334304e7930794d6a59734d5449754d446c444e4445314c6a59784c4459334e4334314400804f43777a4e4441754e446b734e6a63794c6a49794c444d304d4334304f5377324e7a49754d6a4a614969382b5043396e506a77765a7a34384c334e325a7a343d")?;
    let meta_loader = MetaLoader::builder().build()?;
    let content_res: JettonMetadata = assert_ok!(meta_loader.load(&res.content).await);
    assert_eq!(content_res.symbol.as_ref().unwrap(), &String::from("BLKC"));
    assert_eq!(content_res.decimals, Some(8));
    Ok(())
}

// this test is ignored due restrictions of cloudflare-ipfs.com
// TODO: Need to refactor this test when restore it. Delete make_tl_client
//#[tokio::test]
//async fn assert_get_jetton_content_ipfs_uri() -> anyhow::Result<()> {
//    init_logging();
//    let bolt_jetton = TonAddress::from_str("EQD0vdSA_NedR9uvbgN9EikRX-suesDxGeFg69XQMavfLqIw")?;
//    let contract = JettonMaster::new(&ctr_cli, bolt_jetton, None).await?;
//
//    let res = assert_ok!(contract.get_jetton_data().await);
//    let meta_loader = MetaLoader::builder().build()?;
//    let content_res: JettonMetadata = assert_ok!(meta_loader.load(&res.content).await);
//    assert_eq!(content_res.symbol.as_ref().unwrap(), &String::from("BOLT"));
//    assert_eq!(content_res.decimals.unwrap(), 0x9);
//
//    log::info!("{:?}", res);
//    Ok(())
//}

async fn assert_get_semi_chain_layout_jetton_content() -> anyhow::Result<()> {
    // This boc is the stack of get_jetton_data() on EQB-MPwrd1G6WKNkLz_VnV6WqBDd142KMQv-g1O-8QUA3728
    let res = GetJettonDataResult::from_boc_hex("b5ee9c72010223010004d900020800000503010202020303040114ff00f4a413f4bcf2c80b05020904000020200607010300c008020162090a011201ffffffffffffffff0b0001200201200c0d0202cb0e0f001ba0f605da89a1f401f481f481a9a3011201000000125f78de821002016e11120143bff7407e978f01a40711411b1acb773a96bdd93fa83bb5ca8435013c8c4b3ac91f40130201ce1415020158161700000141bf04175b31dabd000c97a53562339446f96ff6edced0df7147b290e45f5e90f8f6180141bf03975eda8a6ce4be141dbf85728bc814f15b08ce1ca3138cf27a376c7ba09f32190004003602f70831c02497c138007434c0c05c6c2544d7c0fc07783e903e900c7e800c5c75c87e800c7e800c1cea6d0000b4c7c076cf16cc8d0d0d09208403e29fa96ea68c1b088d978c4408fc06b809208405e351466ea6cc1b08978c840910c03c06f80dd6cda0841657c1ef2ea7c09c6c3cb4b01408eebcb8b1807c073817c1601a1b00113e910c30003cb853600201581c1d0201481e1f009c0068747470733a2f2f6272696467652e746f6e2e6f72672f746f6b656e2f312f3078613062383639393163363231386233366331643139643461326539656230636533363036656234382e706e67009e0068747470733a2f2f6272696467652e746f6e2e6f72672f746f6b656e2f312f3078613062383639393163363231386233366331643139643461326539656230636533363036656234382e6a736f6e005c804ff833206e953080b1f833de206ef2d29ad0d30731d3ffd3fff404d307d430d0fa00fa00fa00fa00fa00fa00300008840ff2f001f70174cfc0407e803e90087c007b51343e803e903e903534544da8548b31c17cb8b04ab0bffcb8b0950d109c150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c032481c007e401d3232c084b281f2fff274013e903d010c7e800835d270803cb8b13220060072c15401f3c59c3e809dc072dae02002f33b51343e803e903e90353442b4cfc0407e80145468017e903e9014d771c1551cdbdc150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c0325c007e401d3232c084b281f2fff2741403f1c147ac7cb8b0c33e801472a84a6d8206685401e8062849a49b1578c34975c2c070c00870802c20212200eb3b51343e803e903e9035344174cfc0407e800870803cb8b0be903d01007434e7f440745458a8549631c17cb8b049b0bffcb8b0b220841ef765f7960100b2c7f2cfc07e8088f3c58073c584f2e7f27220060072c148f3c59c3e809c4072dab33260103ec01004f214013e809633c58073c5b3327b55200087200835c87b51343e803e903e9035344134c7c06103c8608405e351466e80a0841ef765f7ae84ac7cbd34cfc04c3e800c04e81408f214013e809633c58073c5b3327b552000aa13ccc88210178d4519580a02cb1fcb3f5007fa0222cf165006cf1625fa025003cf16c95005cc2391729171e25007a813a008aa005004a017a014bcf2e2c501c98040fb004300c85004fa0258cf1601cf16ccc9ed5400725269a018a1c882107362d09c2902cb1fcb3f5007fa025004cf165007cf16c9c8801001cb0527cf165004fa027101cb6a13ccc971fb0050421300748e23c8801001cb055006cf165005fa027001cb6a8210d53276db580502cb1fcb3fc972fb00925b33e24003c85004fa0258cf1601cf16ccc9ed54")?;
    let meta_loader = MetaLoader::builder().build()?;
    let content_res: JettonMetadata = assert_ok!(meta_loader.load(&res.content).await);
    log::info!("content_res: {:?}", content_res);
    assert_eq!(content_res.symbol.as_ref().unwrap(), &String::from("jUSDC"));
    assert_eq!(content_res.name.as_ref().unwrap(), &String::from("USD Coin"));
    assert_eq!(content_res.decimals.unwrap(), 0x6);
    Ok(())
}

async fn assert_get_wallet_address() -> anyhow::Result<()> {
    // Boc of the stack from get_wallet_address("EQB2BtXDXaQuIcMYW7JEWhHmwHfPPwa-eoCdefiAxOhU3pQg") on "EQB2BtXDXaQuIcMYW7JEWhHmwHfPPwa-eoCdefiAxO
    let wallet_address = GetWalletAddressResult::from_boc_hex("b5ee9c7201010301003200020f000001040010b0200102000000438010cc6e72a5da1fa522e1d61fb4aea01db731a0a666af781f4631d62b6d640aee70")?;
    assert_eq!("EQCGY3OVLtD9KRcOsP2ldQDtuY0FMzV7wPoxjrFbayBXc23c", wallet_address.address.to_string());
    Ok(())
}

async fn assert_get_jetton_data_invalid_utf8_sequence() -> anyhow::Result<()> {
    // This boc is the stack of get_jetton_data() on EQDX__KZ7A--poP3Newpo_zx4tQ-yl9yzRwlmg_vifxMEA8m
    let res = GetJettonDataResult::from_boc_hex("b5ee9c7201022c0100073600020800000503010802020302070209041114f0200304011201ffffffffffffffff050253809b6e64a8ec60000801a50cf20bade3b7e858789942951876755a978b2699f9382166d6226e7011c543070801120109b6e64a8ec60000060000010300c0090114ff00f4a413f4bcf2c80b0a02012011120201620b0c0202cc0d0e001ba0f605da89a1f401f481f481a8610201d415160201200f1002012017180083d40106b90f6a2687d007d207d206a1802698fc1080bc6a28ca9105d41083deecbef09dd0958f97162e99f98fd001809d02811e428027d012c678b00e78b6664f6aa40143bff082eb663b57a00192f4a6ac467288df2dfeddb9da1bee28f6521c8bebd21f1ec01902012013140201201d1e0201201f2000c30831c02497c138007434c0c05c6c2544d7c0fc03383e903e900c7e800c5c75c87e800c7e800c1cea6d0000b4c7e08403e29fa954882ea54c4d167c0278208405e3514654882ea58c511100fc02b80d60841657c1ef2ea4d67c02f817c12103fcbc2000113e910c1c2ebcb8536001f1503d33ffa00fa4021f001ed44d0fa00fa40fa40d4305136a1522ac705f2e2c128c2fff2e2c254344270542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c920f9007074c8cb02ca07cbffc9d004fa40f40431fa0020d749c200f2e2c4778018c8cb055008cf1670fa0217cb6b13cc81a0201201b1c00560068747470733a2f2f656d6f6a696f2e72752f696d616765732f6170706c652d622f31663932312e706e67009e8210178d4519c8cb1f19cb3f5007fa0222cf165006cf1625fa025003cf16c95005cc2391729171e25008a813a08209c9c380a014bcf2e2c504c98040fb001023c85004fa0258cf1601cf16ccc9ed5402f73b51343e803e903e90350c0234cffe80145468017e903e9014d6f1c1551cdb5c150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c0327e401c1d3232c0b281f2fff274140371c1472c7cb8b0c2be80146a2860822625a019ad822860822625a028062849e5c412440e0dd7c138c34975c2c060212200d73b51343e803e903e90350c01f4cffe803e900c145468549271c17cb8b049f0bffcb8b08160824c4b402805af3cb8b0e0841ef765f7b232c7c572cfd400fe8088b3c58073c5b25c60063232c14933c59c3e80b2dab33260103ec01004f214013e809633c58073c5b3327b55200141bf4546a6ffe1b79cfdd86bad3db874313dcde2fb05e6a74aa7f3552d9617c79d13250141bf6ed4f942a7848ce2cb066b77a1128c6a1ff8c43f438a2dce24612ba9ffab8b03260141bf5208def46f5a1d4f9dce66ab309f4a851305f166f91ef79d923ef58e34f9a209240141bf5d01fa5e3c06901c45046c6b2ddcea5af764fea0eed72a10d404f2312ceb247d2300705279a018a182107362d09cc8cb1f5230cb3f58fa025007cf165007cf16c9718010c8cb0524cf165006fa0215cb6a14ccc971fb0010241023007cc30023c200b08e218210d53276db708010c8cb055008cf165004fa0216cb6a12cb1f12cb3fc972fb0093356c21e203c85004fa0258cf1601cf16ccc9ed540004003901fe00486170707920417072696c20466f6f6c2773206461792120f09fa4a120204265206361726566756c20776974682074686973206461792074686f756768212045786163746c79206120796561722061676f206d7920617373697374616e74206a6f6b696e676c792073756767657374656420746861742073696e6365204927002400447520526f76652773205368616e6e656c0012004475526f7665277301fc20626563616d652061204672656e636820636974697a656e2c20492073686f756c6420616464206120626c616e6b20737061636520696e206d79206c617374206e616d6520616e64206265636f6d65206120e2809c447520526f76e2809d2e204c61756768696e67206f7574206c6f75642c2077652066696c6c6564206f2801fc7574206120666f726d20746f20e2809c6672656e6368696679e2809d206d79206e616d652c207768696368206166746572206120666577206164646974696f6e616c20746f756368657320626563616d6520e2809c5061756c20647520526f7665e2809d2e20205768696c6520776520736f6f6e20666f72676f742061622901fc6f7574207468617420666f726d2c20746865206170706c69636174696f6e2061637475616c6c7920676f7420617070726f76656420616e64207468652070617373706f727420726569737375656420f09f998820205468696e6b696e672061626f75742074686174206461792c2049e280996d20677261746566756c20742a01fc686174206d7920617373697374616e74e28099732063726561746976697479206469646ee280997420657874656e6420746f206d7920456d69726174692070617373706f72742e204f746865727769736520796f7520776f756c642062652072656164696e67207468697320706f737420696e20e2809c416c20447572e22b001e809973204368616e6e656ce2809d2e")?;
    let meta_loader = MetaLoader::builder().build()?;
    let content_res: JettonMetadata = assert_ok!(meta_loader.load(&res.content).await);
    assert_eq!(content_res.symbol.as_ref().unwrap(), &String::from("DuRove's"));
    assert_eq!(content_res.decimals.unwrap(), 0x9);

    // This boc is the stack of get_jetton_data() on EQDoEAodkem9PJdk3W1mqjnkvRphNaWu0glIRzxQBNZuOIbP
    let res = GetJettonDataResult::from_boc_hex("b5ee9c72010231010009e800020800000503010802020302070209040f1470200304011201ffffffffffffffff0502517470de4df8200008006ccf3987b362325084de14e88735eb11b8d2370ad12b3b1b8f726236144c6d65070801120100470de4df820000060000010300c0090114ff00f4a413f4bcf2c80b0a0201200b0c0201620d0e0143bff082eb663b57a00192f4a6ac467288df2dfeddb9da1bee28f6521c8bebd21f1ec00f02012012130202cc1011001ba0f605da89a1f401f481f481a861005a0068747470733a2f2f692e706f7374696d672e63632f783167626a48674a2f313030303030313736352e6a70670201d4141502012016170201201d1e0201201a1b00c30831c02497c138007434c0c05c6c2544d7c0fc03383e903e900c7e800c5c75c87e800c7e800c1cea6d0000b4c7e08403e29fa954882ea54c4d167c0278208405e3514654882ea58c511100fc02b80d60841657c1ef2ea4d67c02f817c12103fcbc2000113e910c1c2ebcb8536002012018190083d40106b90f6a2687d007d207d206a1802698fc1080bc6a28ca9105d41083deecbef09dd0958f97162e99f98fd001809d02811e428027d012c678b00e78b6664f6aa401f1503d33ffa00fa4021f001ed44d0fa00fa40fa40d4305136a1522ac705f2e2c128c2fff2e2c254344270542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c920f9007074c8cb02ca07cbffc9d004fa40f40431fa0020d749c200f2e2c4778018c8cb055008cf1670fa0217cb6b13cc82402012022230141bf5208def46f5a1d4f9dce66ab309f4a851305f166f91ef79d923ef58e34f9a209210141bf5d01fa5e3c06901c45046c6b2ddcea5af764fea0eed72a10d404f2312ceb247d1c000400390141bf4546a6ffe1b79cfdd86bad3db874313dcde2fb05e6a74aa7f3552d9617c79d131f0141bf6ed4f942a7848ce2cb066b77a1128c6a1ff8c43f438a2dce24612ba9ffab8b0320001200546f6e466c75736800080054464801fe00546f6e466c757368202854464829202d20d0bad180d0b8d0bfd182d0bed0b2d0b0d0bbd18ed182d0b02c20d181d0bed0b7d0b4d0b0d0bdd0bdd0b0d18f20d0bdd0b020d0b1d0b0d0b7d0b520d0b1d0bbd0bed0bad187d0b5d0b9d0bd2dd0bfd0bbd0b0d182d184d0bed180d0bcd18b20546f6e636f696e2e20d09ed0bdd02702f73b51343e803e903e90350c0234cffe80145468017e903e9014d6f1c1551cdb5c150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c0327e401c1d3232c0b281f2fff274140371c1472c7cb8b0c2be80146a2860822625a019ad822860822625a028062849e5c412440e0dd7c138c34975c2c060252600d73b51343e803e903e90350c01f4cffe803e900c145468549271c17cb8b049f0bffcb8b08160824c4b402805af3cb8b0e0841ef765f7b232c7c572cfd400fe8088b3c58073c5b25c60063232c14933c59c3e80b2dab33260103ec01004f214013e809633c58073c5b3327b5520009e8210178d4519c8cb1f19cb3f5007fa0222cf165006cf1625fa025003cf16c95005cc2391729171e25008a813a08209c9c380a014bcf2e2c504c98040fb001023c85004fa0258cf1601cf16ccc9ed5400705279a018a182107362d09cc8cb1f5230cb3f58fa025007cf165007cf16c9718010c8cb0524cf165006fa0215cb6a14ccc971fb0010241023007cc30023c200b08e218210d53276db708010c8cb055008cf165004fa0216cb6a12cb1f12cb3fc972fb0093356c21e203c85004fa0258cf1601cf16ccc9ed5401fcb020d0bfd180d0b5d0b4d0bdd0b0d0b7d0bdd0b0d187d0b5d0bdd0b020d0b4d0bbd18f20d0bfd0bed0b4d0b4d0b5d180d0b6d0bad0b820d0bad180d0b8d0bfd182d0be2dd0b8d0bdd0b2d0b5d181d182d0b8d186d0b8d0bed0bdd0bdd18bd18520d0bfd0bed180d182d184d0b5d0bbd0b5d0b920d0b820d0bed0b1d0b5d12801fc81d0bfd0b5d187d0b5d0bdd0b8d18f20d0bfd0bbd0b0d182d0b5d0b6d0bdd0bed0b920d181d0b8d181d182d0b5d0bcd18b20d0b220d0bed0bdd0bbd0b0d0b9d0bd2dd0bad0b0d0b7d0b8d0bdd0be2e2054464820d0bed0b1d0bbd0b0d0b4d0b0d0b5d18220d0b2d18bd181d0bed0bad0bed0b920d181d182d0b5d0bfd0b52901fcd0bdd18cd18e20d0b1d0b5d0b7d0bed0bfd0b0d181d0bdd0bed181d182d0b820d0b820d0b0d0bdd0bed0bdd0b8d0bcd0bdd0bed181d182d0b820d0b1d0bbd0b0d0b3d0bed0b4d0b0d180d18f20d181d0b2d0bed0b5d0b920d0b4d0b5d186d0b5d0bdd182d180d0b0d0bbd0b8d0b7d0bed0b2d0b0d0bdd0bdd0bed0b920d12a01fc81d182d180d183d0bad182d183d180d0b52e20d09ad0b0d0ba20d0b8d0bdd0b2d0b5d181d182d0b8d186d0b8d0bed0bdd0bdd18bd0b920d0b8d0bdd181d182d180d183d0bcd0b5d0bdd1822c20546f6e466c75736820d0bfd0bed0b7d0b2d0bed0bbd18fd0b5d18220d0bfd0bed0bbd18cd0b7d0bed0b2d0b0d182d0b5d02b01fcbbd18fd0bc20d183d187d0b0d181d182d0b2d0bed0b2d0b0d182d18c20d0b220d180d0b0d0b7d0bbd0b8d187d0bdd18bd18520d0bad180d0b8d0bfd182d0bed0b2d0b0d0bbd18ed182d0bdd18bd18520d0bfd180d0bed0b5d0bad182d0b0d18520d0b820d0bfd0bed0bbd183d187d0b0d182d18c20d0bfd0bed182d0b5d02c01fcbdd186d0b8d0b0d0bbd18cd0bdd183d18e20d0bfd180d0b8d0b1d18bd0bbd18c2e2054464820d182d0b0d0bad0b6d0b520d0b8d181d0bfd0bed0bbd18cd0b7d183d0b5d182d181d18f20d0b220d0bed0bdd0bbd0b0d0b9d0bd2dd0bad0b0d0b7d0b8d0bdd0be20d0b220d0bad0b0d187d0b5d181d182d0b2d0b520d0b0d02d01fcbbd18cd182d0b5d180d0bdd0b0d182d0b8d0b2d0bdd0bed0b3d0be20d0bcd0b5d182d0bed0b4d0b020d0bed0bfd0bbd0b0d182d18b2c20d0bed0b1d0b5d181d0bfd0b5d187d0b8d0b2d0b0d18f20d0b1d18bd181d182d180d18bd0b520d0b820d0bdd0b0d0b4d0b5d0b6d0bdd18bd0b520d184d0b8d0bdd0b0d0bdd181d02e01fcbed0b2d18bd0b520d182d180d0b0d0bdd0b7d0b0d0bad186d0b8d0b820d0b4d0bbd18f20d0b3d0b5d0bcd0b1d0bbd0b5d180d0bed0b22e20d09220d186d0b5d0bbd0bed0bc2c20d0bad180d0b8d0bfd182d0bed0b2d0b0d0bbd18ed182d0b020546f6e466c75736820285446482920d0bfd180d0b5d0b4d0bed181d182d02f01fcb0d0b2d0bbd18fd0b5d18220d0b2d0bed0b7d0bcd0bed0b6d0bdd0bed181d182d0b820d0b4d0bbd18f20d0b4d0b8d0b2d0b5d180d181d0b8d184d0b8d0bad0b0d186d0b8d0b820d0b8d0bdd0b2d0b5d181d182d0b8d186d0b8d0b920d0b820d0bed0b1d0b5d181d0bfd0b5d187d0b8d0b2d0b0d0b5d18220d183d0b4d0be300092d0b1d181d182d0b2d0be20d0b8d181d0bfd0bed0bbd18cd0b7d0bed0b2d0b0d0bdd0b8d18f20d0b220d0bed0bdd0bbd0b0d0b9d0bd2dd0b3d0b5d0bcd0b1d0bbd0b8d0bdd0b3d0b52e")?;
    let meta_loader = MetaLoader::builder().build()?;
    let content_res: JettonMetadata = assert_ok!(meta_loader.load(&res.content).await);
    assert_eq!(content_res.symbol.as_ref().unwrap(), &String::from("TFH"));
    assert_eq!(content_res.decimals.unwrap(), 0x9);
    Ok(())
}

async fn assert_jetton_image_data() -> anyhow::Result<()> {
    // This boc is the stack of get_jetton_data() on EQCTzzFI_I9OmQu5CfiK1k2TIV8ZvMtIWRkMjHdRrpfhJuBX
    let res = GetJettonDataResult::from_boc_hex("b5ee9c7201029e010040560002080000050301080202030207020904131570200304011201ffffffffffffffff0502559056bc75e2d631000008001de936062367473b7e00ca396268f11c1c6abc05f023b4fa6e9e975ac412538f0708014402000000000000000000000000000000000000000000000000056bc75e2d63100000060000010300c0090114ff00f4a413f4bcf2c80b110201580a0b0201200c0d0201200e0f0141bf4546a6ffe1b79cfdd86bad3db874313dcde2fb05e6a74aa7f3552d9617c79d131b0141bf6ed4f942a7848ce2cb066b77a1128c6a1ff8c43f438a2dce24612ba9ffab8b031c02012012130141bf5d01fa5e3c06901c45046c6b2ddcea5af764fea0eed72a10d404f2312ceb247d100004003902016215160141bf2411bde8deb43a9f3b9ccd56613e950a260be2cdf23def3b247deb1c69f344121d0141bf26a2333b1e7bbd67212d9c44da883b39334032aab56f11f8b08220a4553ba7921401fe0089504e470d0a1a0a0000000d4948445200000212000001d108060000003fa95038000000017352474200aece1ce90000000467414d410000b18f0bfc6105000000097048597300000ec300000ec301c76fa864000039d949444154785eedd54bb2ec388e04d0dcff327a7535ee0d6487ec9a7aa0704591c4cf41fae04c60190202cc1718001ba0f605da89a1f401f481f481a8610201d421220201481f2001fc22e800e3ddf7cf3ffff39f7f4544444496c0a2888888c808581411111119018b2222222223605144444464042c8a8888888c80451111119111b0282222223202164544444446c0a2888888c808581411111119018b2222222223605144444464042c8a8888888c80451111d9c2bffffb8fc8ff43bf1133581411912da0ff1a01fc4ce45ce83762068b2222b205f49f899c0bfd46cc60514444b680fe339173a1df88192c8a8814407ff8e40fdad708d44bce857e2366b028225200fde1933f685f233c7b492f696f0f8b222205d01f3ef983f635c2b397f492f6f6b028225200fde1933f685f233c7b492f696f0f8b222205d01f3ef983f635c2b397f492f61e001600436861696e496d616765000a0043494d47003400546f6b656e2077697468206f6e2d636861696e20696d61676501fcf6b048062d43447e43ff96d8ed328795e71e3c7b492f696f0f8b64d03244e437f46f89dd2e735879eec1b397f492f6f6b048062d43447e43ff96d8ed328795e71e3c7b492f696f0f8b64d03244e437f46f89dd2e735879eec1b397f492f6f6b048062d43447e43ff96d8ed328795e71e3c7b492f696f0f8b64d296215bb3270201202526020120232400c30831c02497c138007434c0c05c6c2544d7c0fc02f83e903e900c7e800c5c75c87e800c7e800c1cea6d0000b4c7e08403e29fa954882ea54c4d167c0238208405e3514654882ea58c511100fc02780d60841657c1ef2ea4d67c02b817c12103fcbc2000113e910c1c2ebcb8536000db3b51343e803e903e90350c01f4cffe803e900c145468549271c17cb8b049f0bffcb8b0a0823938702a8005a805af3cb8b0e0841ef765f7b232c7c572cfd400fe8088b3c58073c5b25c60063232c14933c59c3e80b2dab33260103ec01004f214013e809633c58073c5b3327b55200083200835c87b51343e803e903e90350c0134c7e08405e3514654882ea0841ef765f784ee84ac7cb8b174cfcc7e800c04e81408f214013e809633c58073c5b3327b552001f100f4cffe803e90087c007b51343e803e903e90350c144da8548ab1c17cb8b04a30bffcb8b0950d109c150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c032483e401c1d3232c0b281f2fff274013e903d010c7e800835d270803cb8b11de0063232c1540233c59c3e8085f2dac4f3202803f73b51343e803e903e90350c0234cffe80145468017e903e9014d6f1c1551cdb5c150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c0327e401c1d3232c0b281f2fff274140371c1472c7cb8b0c2be80146a2860822625a020822625a004ad8228608239387028062849f8c3c975c2c070c008e02b2c2d01fcfc8e2c6733b0e71bb5cb1c569e7bf0ec25bda4bd3d2c92495b866ccdf23bb29ccdc09e6fd42e735879eec1b397f492f6f6b048266d19b235cbefc87236037bbe51bbcc61e5b907cf5ed24bdadbc32299b465c8d62cbf23cbd90cecf94631cf81b2c919d0efa183b45960914cda32646b96df91e56c06f67ca398e740d9e42900ae8210178d4519c8cb1f19cb3f5007fa0222cf165006cf1625fa025003cf16c95005cc2391729171e25008a813a08208e4e1c0aa008208989680a0a014bcf2e2c504c98040fb001023c85004fa0258cf1601cf16ccc9ed5401fc0ce8f7d041da2cb048266d19b235cbefc87236037bbe51cc73a06c7206f47be8206d1658fc40014456a0df57054b36cbd90cecf94631cf81b2c919d0efa183b45960f103051059817e5f152cd92c6733b0e71bc53c07ca266740bf870ed26681c50f14406405fa7d55b064b39ccdc09e6f14f31c99d93ceff2ec75829df62a01fc95360b2c7ea000222bd0efab82259be56c06f67ca398e7c8cce6799767af13ecb4afb45960f103051059817e5f152cd92c6733b0e71bc53c476636cfbb3c7b9d60a77da5cd028b1f690106306591df98dfca92cd7236037bbe51cc736466f3bccbb3d70976da57da2cb0f8911660005316f98df9ad2cd92c6733b0e71bc52e00705279a018a182107362d09cc8cb1f5230cb3f58fa025007cf165007cf16c9718010c8cb0524cf165006fa0215cb6a14ccc971fb0010241023000e10491038375f040076c200b08e218210d53276db708010c8cb055008cf165004fa0216cb6a12cb1f12cb3fc972fb0093356c21e203c85004fa0258cf1601cf16ccc9ed5401fc3c476636cfbb3c7b9d60a77da5cd028b1f690106306591df98dfca92cd7236037bbe51cc736466f3bccbb3d70976da57da2cb0f8911660005316f98df9ad2cd92c6733b0e71bc53c476636cfbb3c7b9d60a77da5cd028b1f690106306591df98dfca92cd7236037bbe51cc736466f3bccbb3d70976da57da2cb0f89116602f01fc005316f98df9ad2cd92c6733b0e71bc53c476636cfbb3c7b9d60a77da5cd028b1f690106306591df98dfca92cd7236037bbe51cc736466f3bccbb3d709d0bed8a1392e33df9ac0e2475a80014c59e437e6b7b264b39ccdc09e6f14f31c99d93ceff2ec7502b42f76688ecbccb726b0f8911660005316f98df9ad2cd92c673001fc33b0e71bc53c476636cfbb3c7b9d00ed8b1d9ae332f3ad092c7ea40518c094457e637e2b4b36cbd90cecf94631cf9199cdf32ecf5e2740fb6287e6b8cc7c6b028b1f690106306591df98dfca92cd7236037bbe51cc736466f3bccbb3d709d0bed8a1392e33df9ac0e2475a80014c59e437e6b7b264b39ccdc09e6f14f31c3101fc99d93ceff2ec7502b4af0bfab6c24cb6996f4d60f1232dc000a62cf21bf35b59b259ce6660cf378a798ecc6c9e7779f63a01dad7057d5b6126dbccb726b0f8911660005316f98df9ad2cd92c6733b0e71bc53c476636cfbb3c7b9d00edeb82bead30936de65b1358fc480b3080298bfcc6fc56966c96b319d8f38d629e233201fc339be75d9ebd4e80f67541df5698c936f3ad092c7ea40518c094457e637e2b4b36cbd90cecf94631cf9199cdf32ecf5e2740fbbaa06f2bcc649bf9d604163fd2020c60ca22bf31bf95259be56c06f67ca398e7c8cce6799767af13a07d5dd0b71566b2cd7c6b028b1f690106306591df98dfca92cd7236037bbe51cc73643301fc66f3bccbb3d709d0be2ee8db0a33d966be3581c58fb4000398b2c86fcc6f65c966399b813ddf28e63932b379dee5d9eb04685f17f46d85996c33df9ac0e2475a80014c59e437e6b742d9768676c08e798ecc6c9e7779f63a01dad7057d5b6126dbccb726b0f8911660005316f98df9ad50b69da11db0639e23339be75d9e3401fcbd4e80f67541df5698c936f3ad092c7ea40518c094457e637e2b946d676807ec98e7c8cce6799767af13a07d5dd0b71566b2cd7c6b028b1f690106306591df98df0a65db19da013be63932b379dee5d9eb04685f17f46d85996c33df9ac0e2475a8001288bf8413b5f15dddf0265db19da013be63932b379dee5d9eb04683501fc5f17f46d85996c33df9ac0e2475a8001288bf8413b5f15ddbfcaae73b161de736636cfbb3c7b9d00edeb82bead30936de65b1358fc480b300065113f68e7aba2fb57d9752e36cc7bcecce6799767af13a07d5dd0b71566b2cd7c6b028b1f690106a02ce207ed7c5574ff2abbcec58679cf99d93ceff2ec7502b4af0bfab63601fcc24cb6996f4d60f1232dc0009445fca09daf8aee5f65d7b9d830ef39339be75d9ebd4e80f67541df5698c936f3ad092c7ea4051880b23ca173f22d7a77d1fdabec3a171be63d6766f3bccbb3d709d0be2ee8db0a33d966be3581c58fb40003509627744ebe45ef2eba7f955de76283f62c7fd0be4678f63a01dad7057d5b3701fc6126dbccb726b0f891166000caf284cec9b7e8dd45f7afb2eb5c6cd09ee50fdad708cf5e2740fbbaa06f2bcc649bf9d604163fd2020c40599ed039f916bdbbe8fe55769d8b0ddab3fc41fb1ae1d9eb04685f17f46d85996c33df9ac0e2475a800128cb133a27dfa27717ddbfcaae73b1417b963f685f233c7b9d00edeb823801fcbead30936de65b1358fc480b3000657942e7e45bf4eea2fb57d9752e3668cff207ed6b8467af13a07d5dd0b71566b2cd7c6b028b1f690106a02c4fe89c7c8bde5d74ff2abbce25e3bafe06bae6ae82f67541df5698c936f3ad092c7ea4051880b23ca173f22d7a77d1fdabec3a978cebfa1be89abb0adad7057d5b6126db3901fcccb726b0f891166000caf284cec9b7e8dd45f7afb2eb5c32aeeb6fa06bee2a685f17f46d85996c33df9ac0e2475a800128cb133a27dfa27717ddbfcaae73c9b8aebf81aeb9aba07d5dd0b71566b2cd7c6b028b1f690106a02c4fe89c7c8bde5d74ff2abbce25e3bafe06bae6ae82f67541df5698c936f3ad092c7ea405183a01fc80b23ca173f22d7a77d1fdabec3a978cebfa1be89abb0adad7057d5b6126dbccb726b0f891166000caf284cec9b7e8dd45f7afb2eb5c32aeeb6fa06bee2a685f17f46d85996c33df9ac0e2475a800128cb133a27dfa27717ddbfcaae73c9b8aebf81aeb9aba07d5dd0b71566b2cd7c6b028b1f690106a02c4fe89c7c8bde3b01fc5d74ff2abbce25e3bafe06bae6ae82f67541df5698c936f3ad092c7ea4051880b23ca173f22d7a77d1fdabec3a978cebfa1be89abb0adad7057d5b6126dbccb726b0f891166000caf284cec9b7e8dd45f7afb2eb5c32aeeb6fa06bee2a685f17f46d85996c33df9ac0e2475a800128cb133a27dfa27717ddbfcaae73c9b83c01fcaebf01945bce857e2366b0f891166000caf284cec9b7e8dd45f7afb2eb5c32aeeb6f00e59673a1df88192c7ea4051880b23ca173f22d7a77d1fdabec3a978cebfa1b40b9e55ce83762068b1f690106a02c4fe89c7c8bde5d74ff2abbce25e3bafe06506e3917fa8d98c1e2475a800128cb133a27dfa27717ddbfcaae73c93d01fcb8aebf01945bce857e2366b0f891166000caf284cec9b7e8dd45f7afb2eb5c324ebf8133a077bea06f2b506683c50fa6b028cb133a27dfa27717ddbfcaae73c938fd06ce80def982bead40990d163f98c2a22c4fe89c7c8bde5d74ff2abbce25e3f41b38037ae70bfab602653658fc600a8bb23ca173f22d7a77d1fdabec3e01fc3a978cd36fe00ce89d2fe8db0a94d960f183292ccaf284cec9b7e8dd45f7afe23d17ead70d9a6b67dac119d03b5fd0b71528b3c1e207535894e5099d936fd1bb8bee5fc57b2ed4af1b34d7ceb48333a077bea06f2b506683c50f14566405fa7d75e33d17ead70d9a6b67dac119d03b5fd0b71528b3c1e2070a2bb202fdbe3f01fcbaf19e0bf5eb06cdb533ede00ce89d2fe8db0a94d960f103851559817e5fdd78cf85fac93cb4db28d5f74b0ef4ce17f46d05ca6cb0f881c28aac40bfaf6ebce7b2f443674f85f613a5fa7ec981def982bead40990d163f50589115e8f7d58df75c967ee8eca9d07ea254df2f39d03b5fd0b71528b3c12219b4b827744ebe4001fc69776bbcf766e987ce9e0aed274af5fd9203bdf3057d5b81321b2c92418b7b42e7e49b76b7c67b6f967ee8eca9d07ea254df2f39d03b5fd0b71528b3c12219b4b827744ebe69776bbcf766e96739bbaae2cea7ea0cd5f74b0ef4ce17f46d05ca6cb048062dee099d936fdadd1aefbd59fa59ceaeaab8f3a93a43f5fd92034101fcbdf3057d5b81321b2c92418b7b42e7e49b76b7c67b6f967e96b3ab2aee7caace507dbfe440ef7c41df56a0cc068b64d0e29ed039f9a6ddadf1de9ba59fe5ecaa8a3b9faa3354df2f39d03b5fd0b71528b3c12219b4b827744ebe69776bbcf766e96739bbaae2cea7ea0cd5f74b0ef4ce17f46d05ca6cb048062dee099d934201fc6fdadd1aefbd59fa59ceaeaab8f3a93a43f5fd9203bdf3057d5b81321b2c92418b7b42e7e49b76b7c67b6f967e96b3ab2aee7cf2cc807a9d04ed44fea07d5dd0b71528b3c12219b4b827744ebe69776bbcf766e96739bbaae2ce27cf0ca8d749d04ee40fdad7057d5b81321b2c92418b7b42e7e49b76b7c67b6f967e96b34301fcab2aee7cf2cc807a9d04ed44fea07d5dd0b71528b3c12219b4b827744ebe69776bbcf766e96739bbaae2ce27cf0ca8d749d04ee40fdad7057d5b81321b2c92418b7b42e7e49b76b7c67b6f967e96b3ab2aee7cf2cc807a9d04ed44fea07d5dd0b71528b3c12219b4b827744ebe69776bbcf766e96739bbaae2ce27cf0c2b4401fcbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e49b76b7c67b6f967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe69776bbcf766e96739bbaae2ce27cf0c2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba7dda1ac4c50e651967e96b3ab2aee7cf2cc4501fcb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe75da1dcaca04651e65e96739bbaae2ce27cf0c2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba7dda1ac4c50e651967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe75da1dcaca04651e65e9674601fc39bbaae2ce27cf0c2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba7dda1ac4c50e651967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe75da1d435694e186be1f65e96739bbaae2ce27cf0c2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba74701fcdd316445196ee8fb51967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe75da1d435694e186be1f65e96739bbaae2ce27cf0c2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba7dd316445196ee8fb51967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b74801fc1528b3c12219b4b827744ebe75da1d435694e186be1f65e96739bbaae2ce27cf0c2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba7dd316445196ee8fb51967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe75da1d435694e186be1f65e96739bbaae2ce27cf0c4901fc2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba7dd316445196ee8fb51967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe75da1d435694e186be1f65e96739bbaae2ce27cf0c2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba7dd316445196e4a01fce8fb51967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe75da1d435694e186be1f65e96739bbaae2ce27cf0c2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba7dd316445196ee8fb51967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c122194b01fcb4b827744ebe75da1d435694e186be1f65e96739bbaae2ce27cf0c2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba7dd316445196ee8fb51967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe75da1d435694e186be1f65e96739bbaae2ce27cf0c2bbd56ce30e84c01fc9abb0adad7057d5b81321b2c92418b7b42e7e45ba7dd316445196ee8fb51967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe75da1d435694e186be1f65e96739bbaae2ce27cf0c2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba7dd316445196ee8fb51967e964d01fcb3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe75da1d435694e186be1f65e96739bbaae2ce27cf0c2bbd56ce30e89abb0adad7057d5b81321b2c92418b7b42e7e45ba7dd316445196ee8fb51967e96b3ab2aee7cf2ccb0d26be50c83aeb9aba07d5dd0b71528b3c12219b4b827744ebe4e01fc75da1d435694e186be1f65e96739bbaae2ce27cf0c2bbd56ce30e89abb0ada173b34472a58248316f784cec9b74ebb63c88a32dcd0f7a32cfd2c675755dcf9e49961a5d7ca19065d735741fb6287e648058b64d0e29ed039f9d669770c5951861bfa7e94a59fe5ecaa8a3b9f3c33acf45a39c3a06bee2a685fecd01ca9604f01fc910c5adc133a27df3aed8e212bca7043df8fb2f4b39c5d5571e7936786955e2b671874cd5d05ed8b1d9a23152c92418b7b42e7e45ba7dd556445778a483cf4efb102cac60ecd910a16c9a0c53da173f2add3ee2ab2a23b45241efaf75881391b2d5824831e56fca09d33a8c88aee149178e8df6305e66cb460910c7a58f15001fc8376cea0222bba5344e2a17f8f1598b3d1824532e861c50fda39838aace84e118987fe3d5660ce460b16c9a087153f68e70c2ab2a23bdfa0f3a32cfd2c675755dcf9e49961a5d7ca19068cb91933dd98b3d1824532e861c50fda39838aace8ce37e8fc284b3fcbd95515773e796658e9b5728601636ec64c37e66cb460915101fc8c1ef64c15ef8eee7c83ce8fb2f4b39c5d5571e7936786955e2b671830e666cc7463ce460b16c9e861cf54f1eee8ce37e8fc284b3fcbd95515773e796658e9b5728601636ec64c37e66cb460918c1ef64c15ef8eee7c83ce8fb2f4b39c5d5571e7936786955e2b671830e666cc7463ce460b16c9e861cf54f1eee8ce37e85201fcfc284b3fcbd95515773e796658e9b5728601636ec64c37e66cb460918c1ef64c15ef8eee7c83ce8fb2f4b39c5d5571e7936786955e2b671830e666cc7463ce460b16c9e861cf54f1eee8ce37e8fc284b3fcbd95515773e796658e9b5728601636ec64c37e66cb460918c1ef64c15ef8eee7c83ce8fb2f4b39c5d5571e7935301fc6786955e2b671830e666cc7463ce460b16c9e861cf54f1eee8ce37e8fc284b3fcbd95515773e796658e9b5728601636ec64c37e66cb460918c1ef64c15ef8eee7c83ce8f42fdba417345f2ccb0d26be50c03c6dc8c996eccd968c122193dec992ade1dddf9069d1f85fa7583e68ae49961a5d7ca19068cb91933dd98b3d15401fc8245327ad83355bc3bbaf30d3a3f0af5eb06cd15c933c34aaf95330c18733366ba3167a3058b64f4b067aa787774e71b747e14ead70d9a2b926786955e2b671830e666cc7463ce460b16c9e861cf54f1eee8ce37e8fc28d4af1b345724cf0c2bbd56ce3060cccd98e9c69c8d162c92d1c39ea9e2ddd19d6fd0f90c4c59325501fc79cebdd26be50c03c6dc8c996eccd968c122193dec992ade1dddf9069dcfc0942593e7dc2bbd56ce3060cccd98e9c69c8d162c92d1c39ea9e2ddd19d6fd0f90c4c593279cebdd26be50c03c6dc8c996eccd968c122193dec992ade1dddf9069dcfc0942593e7dc2bbd56ce3060cccd98e9c69c8d162c92d1c39ea9e2ddd15601fc9d6fd0f90c4c593279cebdd26be50c03c6dc8c996eccd968c122193dec992ade1dddf9069dcfc0942593e7dc2bbd56ce3060cccd98e9c69c8d162c92d1c39ea9e2ddd19d6fd0f90c4c593279cebdd26be50c03c6dc8c996eccd968c122193dec992ade1dddf9069dcfc0942593e7dc2bbd56ce3060cccd98e9c69c8d162c5701fc92d1c39ea9e2ddd19d6fd0f90c4c593279cebdd26be50c03c6dc8c996eccd968c122193dec992ade1dddf9069dcfc0942593e7dc2bbd56ce3060cccd98e9c69c8d162c92d1c39ea9e2ddd19d6fd0f90c4c593279cebdd26be50c03c6dc8c996eccd968c122193dec992ade1dddf9069dcfc0942593e7dc2bbd56ce3060cc5801fccd98e9c69c8d162c92d1c39ea9e2ddd19d6fd0f90c4c593279cebdd26be50c03c6dc8c996eccd968c122193dec992ade1dddf9069dcfc0942593e7dc2bbd56ce3060cccd98e9c69c8d162c92d1c39ea9e2ddd19d6fd0f90c4c593279cebdd26be50c03c6dc8c996eccd968c122193dec99d0bb334199333065c9e439f74a5901fcaf95330c18733366ba3167a3058b64f4b06742efce0465cec0942593e7dc2bbd56ce3060cccd98e9c69c8d162c92d1c39e09bd3b1394390353964c9e73aff45a39c380313763a61b73365ab048460f7b26f4ee4c50e60c4c593279cebdd26be50c03c6dc8c996eccd968c122193dec99d0bb334199333065c9e439f74aaf5a01fc95330c18733366ba3167a3058b64f4b092e5edb7f656afc0942593e7dc2bbd56ce3060cccd98e9c69c8d162c92d1c34a96b7dfda5bbd0253964c9e73aff45a39c380313763a61b73365ab048460f2b59de7e6b6ff50a4c593279cebdd26be50c03c6dc8c996eccd968c122193dac6479fbadbdd52b3065c9e439f74aaf955b01fc330c18733366ba3167a3058b64f4b092e5edb7f656afc0942593e7dc2bbd56ce3060cccd98e9c69c8d162c92d1c34a96b7dfda5bbd0253964c9e73aff45a39c380313763a61b73365ab048460f2b59de7e6b6ff50a4c593279cebdd26be50c03c6dc8c996eccd968c122193dac6479fbadbdd52b3065c9e439f74aaf95335c01fc0c18733366ba3167a3058b93d0e2a50ff4a6a77adbcf5bbd0253964c9e73aff45a39c380313763a61b73365ab038092d5efa406f7aaab7fdbcd52b3065c9e439f74aaf95330c18733366ba3167a3058b93d0e2a50ff4a6a77adbcf5bbd0253964c9e73aff45a39c380313763a61b73365ab038092d5efa406f7aaab7fdbc5d01fcd52b3065c9e439f74aaf95330c18733366ba3167a3058b93d0e2a50ff4a6a77adbcf5bbd0253964c9e73aff45a39b302dd2362817e67ae60715274f0e8fe27d12e7f7bdbcf5bbd0253964c9e73aff45a39b302dd2362817e67ae60715274f0e8fe27d12e7f7bdbcf5bbd0253964c9e73aff45a39b302dd2362817e67ae605e01fc715274f0e8fe27d12e7f7bdbcf5bbd0253964c9e73aff45a39b302dd2362817e67ae60715274f0e8fe27d12e7f7bdbcf5bbd0253964c9e73a35e22bb42ff065cc1e2a4e8e05efd511f666806abac7bba7adbcf5bbd0253964c9e73a35e27413bc9c498e9c69c6d44497e589c141ddcab3feac30ccd6095754f576ffb79ab5f01fc5760ca92c9736ed4eb246827991833dd98b38d28c90f8b93a2837bf5477d98a119acb2eee9ea6d3f6ff50a4c593279ce8d7a9d04ed241363a61b73b61125f96171527470affea80f33348355d63d5dbdede7ad5e81294b26cfb951af93a09d6462cc7463ce36a2243f2c4e8a0eeed51ff5618666b042f7c81ab4df0c4c596001fc3255cf9d757fd63d95986764ce36a2243f2c4e8a0eeed5dfab4f84ac6ce81e5983f69b81294ba6eab9b3eecfbaa712f38cccd94694e487c549d1c1bdfa7bf58990950ddd236bd07e333065c9543d77d6fd59f754629e9139db8892fcb038293ab8577faf3e11b2b2a17b640dda6f06a62c99aae7ceba3feb9e4acc3332676101fc1b51921f16274507f7eaefd527425636748fac41fbcdc0942553f5dc59f767dd53897946e66c234af2c3e2a4e8e05efdbdfa44c8ca86eeb9a1ef4ff3b697b77a05a62c99aae7ceba3feb9e4acc3332671b51921f16274507f7eaefd52742563674cf0d7d7f9ab7bdbcd52b3065c9543d77d6fd59f754629e9139db8892fc6201fcb038293ab8577faf3e11b2b2a17b6ee8fbd3bcede5ad5e81294ba6eab9b3eecfbaa712f38cccd94694e487c549d1c1bdfa7bf58990950ddd7343df9fe66d2f6ff50a4c593255cf9d757fd63d95986764ce36a2243f2c4e8a0eeed5dfab4f84ac6ce89e1bfafe346f7b79ab5760ca92a97aeeacfbb3eea9c43c2373b611256301fcf96171527470affe5e7d22646543f7dcd0f7a779dbcb5bbd0253964cd57367dd9f754f25e61999b38d28c90f8b93a2837bf5f7ea13212b1bbae786be3fcddb5edeea1598b264aa9e3bebfeac7b2a31cfc89c6d44497e589c141ddcabbf579f0859d9d03d37f4fd69def6f256afc0942553f5dc59f767dd53897946e66c236401fc4af2c3e2a4e8e05efdbdfa44c8ca86eeb9a1ef4ff3b697b77a05a62c99aae7ceba3feb9e4acc3332671b51921f16274507f7eaefd52742563674cf0d7d7f9ab7bdbcd52b3065c9543d77d6fd59f754629e9139db8892fcb038293ab8577faf3e11b2b2a17b6ee8fbd3bcede5ad5e81294ba6eab9b3eecfbaa712f38cccd96501fc4694e487c549d1c1bdfa7bf58990950ddd7343df9fe66d2f6ff50a4c593255cf9d757fd63d95986764ce36a2243f2c4e8a0eeed5dfab4f84ac6ce89e1bfafe346f7b79ab5760ca92a97aeeacfbb3eea9c43c2373b61125f96171527470affe5e7d22646543f7dcd0f7a779dbcb5bbd0253964cd57367dd9f754f25e619996601fcb38d28c90f8b93a2837bf5f7ea13212b1bbae786be3fcddb5edeea1598b264aa9e3bebfeac7b2a31cfc89c6d44497e589c141ddcabbf579f0859d9d03d37f4fd69def6f256afc0942553f5dc59f767dd53897946e66c234af2c3e2a4e8e05efdbdfa44c8ca86eeb9a1ef4ff3b697b77a05a62c99aae7ceba3feb9e4acc336701fc32671b51921f16274507f7eaefd52742563674cf0d7d7f9ab7bdbcd52bb067c9843245c9ba3feb9e4acc3332671b51921f16274507f7eaefd52742563674cf0d7d7f9ab7bdbcd52bb067c9843245c9ba3feb9e4acc3332671b51921f16274507f7eaefd52742563674cf0d7d7f9ab7bdbcd52ba02ca742fb8992753fba476801fcc402fdce5cc1e2a4e8e05efdbdfa44c8ca86eeb9a1ef4ff3b697b77a0594e554683f51b2ee47f78858a0df992b589c141ddcabbf579f0859d9d03d37f4fd69def6f256af80b29c0aed274ad6fde81e110bf43b73058b93a2837bf5f7ea13212b1bbae786be3fcddb5edeea15509653a1fd44c9ba1fdd2362817e67ae60716901fc527470affe5e7d22646543f7c81ab4df0c28cba9d07ea264dd8fee11b140bf3357b038293ab8577faf3e11b2b2a17b640ddaef6932f7927917527dff4e9877c99c8d162c4e8a5e3cea2f520dfd564f93b997ccbb90eafb77c2bc4be66cb4607152f4e2517f916ae8b77a9accbd64de8554dfbf13e65d3267a3058b93a2176a01fc8ffa8b5443bfd5d364ee25f32ea4fafe9d30ef92391b2d589c14bd78d45fa41afaad9e26732f997721d5f7ef847997ccd968c1e2a4e8c5a3fe22d5d06ff534997bc9bc0ba9be7f27ccbb64ce460b162775593c73ceac6c59f774a5fdccc9dc57e65d48f5fd3b61de2573365ab038a9cbe299736665cbbaa72bed674ee6be6b01fc32ef42aaefdf09f32e99b3d182c5495d16cf9c332b5bd63d5d693f7332f7957917527dff4e9877c99c8d162c4eeab278e69c59d9b2eee94afb9993b9afccbb90eafb77c2bc4be66cb460715297c533e7ccca96754f57dacf9ccc7d65de8554dfbf13e65d3267a3058b93ba2c9e396756b6ac7bbad27ee664ee2bf32ea4fa6c01fcfe9d30ef92391b2d589cd465f1cc39b3b265ddd395f63327735f997721d5f7ef847997ccd968c1e2a42e8b67ce99952deb9eaeb49f3999fbcabc0ba9be7f27ccbb64ce460b162775593c73ceac6c59f774a5fdccc9dc57e65d48f5fd3b61de2573365ab038a9cbe299736665cbbaa72bed674ee6be32ef42aaefdf09f32e6d01fc99b3d182c5495d16cf9c332b5bd63d5d693f7332f7957917527dff4e9877c99c8d162c4eeab278e69c59d9b2eee94afb9993b9afccbb90eafb7782767922b49b96607152970531e7ccca96754f57dacf9ccc7d65de8554dfbf13b4cb13a1ddb4048b93ba2c88396756b6ac7bbad27ee664ee2bf32ea4fafe9da05d9e08ed6e01fca625589cd46541cc39b3b265ddd395f63327735f997721d5f7ef04edf24468372dc1e2a42e0b62ce99952deb9eaeb49f3999fbcabc0b41f78b58a0df594bb038a9cb8298736665cbbaa72bed674ee6be32ef42d0fd7206f47b9815d597022c4eeab220e69c59d9b2eee94afb9993b9afccbb1074bf9c01fd1e6645f5a5006f01fc8b93ba2c88396756b6ac7bbad27ee664ee2bf32e04dd2f6740bf8759517d29c0e2a42e0b62ce99952deb9eaeb49f3999fbcabc0b41f7cb19d0ef6156545f0ab038a9cb82987366658bba07f5958dfe50bcc89c39f32e8985def286bedfc1d6b3c2e2a42e0b62ce99952dea1ed45736fa43f12273e6ccbb24167acb1bfa7e7001fc075bcf0a8b93ba2c88396756b6a87b505fd9e80fc58bcc9933ef9258e82d6fe8fb1d6c3d2b2c4eeab220e69c59d9a2ee417d65a33f142f3267cebc4b62a1b7bca1ef77b0f5acb038a9cb82987366658bba07f5958dfe50bcc89c39f32e8985def286bedfc1d6b3c2e2a42e0b62ce99952dea9ea8bed92c7358ce769539737101fce65d120bbde50d7dbf83ad6785c5495d16c49c332b5bd43d517db359e6b09ced2a73e6ccbb24167acb1bfa7e075bcf0a8b93ba2c88396756b6a87ba2fa66b3cc6139db55e6cc9977492cf49637f4fd0eb69e15162775591073ceac6c51f744f5cd6699c372b6abcc9933ef9258e82d6fe8fb1d6c3d2b2c4eeab220e69c597201fcd9a2ee89ea9bcd3287e56c57993367de25b1d05bded0f73bd87a56589cd46541cc39b3b245dd13d5379b650ecbd9ae3267cebc4b62a1b7bca1ef77b0f5acb038a9cb82987366658bba27aa6f36cb1c96b35d65ce9c7997c4426f7943dfef60eb59617152970531e7ccca16754f54df6c96392c67bbca9c39f32e8985def27301fc86bedfc1d6b3c2e2a42e0b8acc897a8bb043bfe519113ddf64de25b1d05bded0f73bd87a56589cd465419139516f1176e8b73c23a2e79bccbb24167acb1bfa7e075bcf0a8b93ba2c283227ea2dc20efd966744f47c937997c4426f7943dfef60eb59617152970545e644bd45d8a1dff28c889e6f32ef9258e82d6fe8fb1d7401fc6c3d2b2c4eeab2a0c89ca8b7083bf45b9e11d1f34de65d120bbde50d7dbf83ad6785c5495d161499d3dadb7a7e54d43d517db359e6b09ccd10912fa2e79bccbb24167acb1bfa7e075bcf0a8b93ba2c2832a7b5b7f5fca8a87ba2fa66b3cc61399b21225f44cf379977492cf49637f4fd0eb69e151627755950644e6b6feb7501fcf95151f744f5cd6699c372364344be889e6f32ef9258e82d6fe8fb1d6c3d2b2c4eeab2209493199ac12aea9ea8bed92c7358ce6688c8877a664299841f7acb1bfa7e075bcf0a8b93ba2c08e5648666b08aba27aa6f36cb1c96b31922f2a19e995026e187def286bedfc1d6b3c2e2a42e0b423999a119aca2ee89ea9bcd327601fc87e56c86887ca8672694a91b34974816f49b9c068b93c2c239433999a119aca2ee89ea9bcd3287e56c86887ca8672694a91b34974816f49b9c068b93c2c239433999a119aca2ee89ea9bcd3287e56c86887ca8672694a91b34974816f49b9c068b93c2c235d265075139a3fa66b3cc61399b813ddfa9d0bb886441bfc9697701fcb038292c5c235d76109533aa6f36cb1c96b319d8f39d0abd8b4816f49b9c068b93c2c235d265075139a3fa66b3cc61399b813ddfa94e7c1734f389d06e22856580c54961e11ae9b283a89c517db359e6b09ccdc09eef5427be0b9af944683791c232c0e2a4b0708d74d94154cea8bed92c7358ce6660cf77aa13df05cd7c7801fc22b49b48611960715258b846baec202a6754df6c96392c6733b0e73bd589ef72e2cc0cc2f60e8b93c2c235d265075139a3fa66b3cc61399b813ddfa94e7c9713676610b677589c1416ae912e3b88ca19d5379b650ecbd90cecf94e75e2bb9c383383b0bdc3e2a4b0708d74d94154cea8bed92c7358ce6660cf77aa13dfe57901fcc4991984ed1d162785856ba4cb0ea27246f5cd6699c37236037bbe539df82e27cecc206cefb038292c5c235d76109533aa6f36cb1c96b319d8f39deac47739716606617b87c549289cf481de745654df6c96392c6733b0e73bd589ef72e2cc0cc2f60e8b935038e903bde9aca8bed92c7358ce6660cf77aa13dfe5c499197a01fc84ed1d1627a170d2077ad359517db359e6b09ccdc09eef5427becb89333308db3b2c4e42e1a40ff4a6b3a2fa66b3cc61399b813ddfa94e7c9713676610b677589c84c2491fe84d6745f5cd6699c37236037bbe539df82e27cecc206cefb028d3c21ea8895de6b7cc61399b813ddfa94e7c9713676610b677589469610fd47b01fcc42ef35be6b09ccdc09eef5427becb89333308db3b2ccab4b0076a6297f92d7358ce6660cf77aa13dfe5c4991984ed1d16655ad80335b1cbfc96392c6733b0e73bd589ef72e2cc0cc2f60e8b322dec819ad8657ecb1c96b319d8f39deac47739716606617b87459916f6404dec32bf650ecbd90cecf94e75e2bb9c3833837c01fcb0bdc3a24c0b7ba0267699df3287e56c06f67ca73af15d4e9c9941d8de6151a6853d5013bbcc6f99c37236037bbe539df82e27cecc206cefb028d3c21ea8895de6b7cc61399b813ddfa94e7c9713676610b677589469610fd4c42ef35be6b09ccdc09eef5427becb89333308db3b2ccab4b0076a6297f92d7358ce6660cf7d01fc77aa13dfe5c4991984ed1d16655ad80335b1cbfc96392c6733b0e73bd589ef72e2cc0cc2f60e8b322dec819ad8657ecb1c96b319d8f35d5046e903bd2962392bebc2f60e8b322dec819ad8657ecb1c96b319d8f35d5046e903bd2962392bebc2f60e8b322dec819ad8657ecb1c96b319d8f35d5046e903bd2962392bebc27e01fcf60e8b322dec819ad8657ecb1c96b319d8f35d5046e903bd2962392bebc2f60e8b322dec819ad8657ecb1c96b319d8f35d5046e903bd2962392bebc2f60e8b322dec819ad8657ecb1c96b319d8f35d3a64f4d675664b6ecb595917b677589469610fd4c42ef35be6b09ccdc09eefd221a3b7ae335b725bcecabab0bdc3a27f01fc4c0b7ba0267699df3287e56c06f67c970e19bd759dd992db7256d685ed1d16655ad80335b1cbfc96392c6733b0e7bb74c8e8adebcc96dc96b3b22e6cefb028d3c21ea8895de6b7cc61399b813ddfa543466f5d67b6e4b69c9575617b87459916f6404dec32bf650ecbd90cecf92e1d327aeb3ab325b7e5acac0bdb3b2cca8001fcb4b0076a6297f92d7358ce6660cf77e990d15bd7992db92d67655dd8de6151a6853d5013bbcc6f99c37236037bbe4b878cdebace6cc96d392bebc2f60e8b322dec819ad8657ecb1c96b319d8f35d3a64f4d675664b6ecb595917b677589469610fd4c42ef35be6b09ccdc09eefd221a3b7ae335b725bcecabab0bdc3a24c8101fc0b7ba0267699df3287e56c06f67c970e19bd759dd992db7256d685ed1d16655ad80335b1cbfc96392c6733b0e7bb74c8e8adebcc96dc96b3b22e6cefb028d3c21ea8895de6b7cc61399b813ddfa543466f5d67b6e4b69c9575617b87459916f6404dec32bf650ecbd90cecf92e1d327aeb3ab325b7e5acac0bdb3b2ccab48201fcb0076a6297f92d7358ce6660cf77e990d15bd7992db92d67655dd8de6151a6853d5013bbcc6f99c37236037bbe4b878cdebace6cc96d392bebc2f60e8b322dec819ad8657ecb1c96b319d8f35d3a64f4d675664b6ecb595917b6775824859620bcd01bb2b3cc61399b813ddfa543466f5d67b6e4b69c9575617b874552688301fc09c20bbd213bcb1c96b319d8f35d3a64f4d675664b6ecb595917b6775824859620bcd01bb2b3cc61399b813ddfa543466f5d67b6e4b69c9575617b8745526809c20bbd213bcb1c96b319d8f35d3a64f4d675664b6ecb595917b6775824859620bcd01bb2b3cc61399b813ddfa543466f5d67b6e4b69c9575617b874552618401fc4b70c09ccd1b9a154167d959e6b09ccdc09eefd221a3b7ae335b725bcecabab0bdc322a9b0253860cee60dcd8aa0b3ec2c7358ce6660cf77e990d15bd7992db92d67655dd8de619154d8121c3067f3866645d0597696392c6733b0e7bb74c8e8adebcc96dc96b3b22e6cefb0482a6c090e98b37943b322e82c3bcb1c96b38501fc19d8f35d3a64f4d675664b6ecb595917b677582415b60407ccd9bca1591174969d650ecbd90cecf92e1d327aeb3ab325b7e5acac0bdb3b2c920a5b8203e66cded0ac083acbce3287e56c06f67c970e19bd759dd992db7256d685ed1d1649852dc10173366f6856049d656799c37236037bbe4b878cdebace6cc96d392beb8601fcc2f60e8ba4c296e080399b37342b82ceb2b3cc61399b813ddfa543466f5d67b6e4b69c9575617b874552614b70c09ccd1b9a154167d959e6b09ccdc09eefd221a3b7ae335b725bcecabab0bdc322a9b0253860cee60dcd8aa0b3ec2c7358ce6660cf77e990d15bd7992db92d67655dd8de619154d8121c3067f3866615118701fcb1407f6bc457d8de619154d8121c3067f386661511b1407f6bc457d8de619154d8121c3067f386661511b1407f6bc457d8de619154d8121c3067f386661511b1407f6bc457d8de619154d8121c3067f386661511b1407f6bc457d8de619154d8121c3067f376d2ac3be9f06e1d327aeb3a73d7dc270b7b33582415b604078801fcccd9bc9d34eb4e3abc5b878cdebacedc35f7c9c2de0c1649852dc10173366f27cdba930eefd621a3b7ae3377cd7db2b037834552614b70c09ccddb49b3eea4c3bb75c8e8adebcc5d739f2ceccd609154d8121c3067f376d2ac3be9f06e1d327aeb3a73d7dc270b7b33582415b60407ccd9bc9d34eb4e3abc5b878cdebace8901fcdc35f7c9c2de0c1649852dc10173366f27cdba930eefd621a3b7ae3377cd7db2b037834552614b70c09ccddb49b3eea4c3bb75c8e8adebcc5d739f2ceccd609154d8121c3067f376d2ac3be9f06e1d327aeb3a73d7dc270b7b33582415b60407ccd9bc9d34eb4e3abc5b878cdebacedc35f7c9c2de0c1649852dc10173368a01fc6f27cdba930eefd621a3b7ae3367e546f7ec02cd1b292c032c920a5b8203e66cde4e9a75271ddead43466f5d67ceca8deed9059a37525806582415b60407ccd9bc9d34eb4e3abc5b878cdebace9c951bddb30b346fa4b00cb0482a6c090e98b3793b69d69d7478b70e19bd759d392b37ba671768de486119609154d8121c8b01fc3067f376d2ac3be9f06e1d327aeb3a73566e74cf2ed0bc91c232c022a9b0253860cee6eda45977d2e1dd3a64f4d675e6acdc59f7446398232c032c920a5b8203e66cde4e9a75271ddead43466f5d67ceca9d754f348639c232c022a9b0253860cee6eda45977d2e1dd3a64f4d675e6acdc59f7446398232c032c920a5b828c01fc03e66cde4e9a75271ddead43466f5d67ceca9d754f348639c232c022a9b0253860cee6eda45977d2e1dd3a64f4d675e6acdc59f7446398232c032c920a5b8203e66cde4e9a75271ddead43466f5d67ceca9d754f348639c232c022a9b0253860cee6eda45977d2e1dd3a64f4d675e6acdc59f7446398232c032c920a5b828d01fc03e66cde4e9a75271ddead43466f5d67ceca9d754f348639c232c022a9b0253860cee6eda45977d2e1dd3a64f4d675e6acdc59f7446398232c032c920a5b8203e66cde4e9a75271ddead43466f5d67ceca9d754f348639c232c022a9b0253860cee6eda45977d2e1dd3a64f4d675e6acdc59f7446398232c032c920a5b828e01fc03e66cde4e9a75271ddead43466f5d67ceca9d754f348639c232c022a9b0253860cee6eda45977d2e1dd3a64f4d675e6acdc59f7446398232c032c920a5b8203e66cde4e9a75271ddead43466f5d67ceca9d754f348639c232c022a9b0253860cee6eda45977d2e1dd3a64f4d675e6acdc59f7446398232c032c920a5b828f01fc03e66cde4e9a75271ddead43466f5d67ceca9d754f348639c232c022a9b0253860cee6eda45977d2e1dd3a64f4d675e6acdc59f7446398232c032c920a5b8203e66cde4e9a9501da7717689e5f3c7a74d375e6acdc59f7446398232c032c920a5b8203e66cde4e9a9501da7717689e5f3c7a74d375e6acdc59f7446398239001fc2c032c920a5b8203e66cde4e9a9501da7717689e5f3c7a74d375e6acdc59f7446398232c032c920a5b8203e66cde4e9a9501da7717689e5f3c7a74d375e6acdc59f7446398232c032c920a5b8203e66cde4e9a9501da7717689e5f500fe903bda955d63dd118e608cb008ba4c296e080399bb7936665e0b56faf3e6f3cfa9101fca31ed2077a53abac7ba231cc1196011649852dc10173366f27cdcac06bdf5e7dde78f4473da40ff4a65659f7446398232c032c920a5b8203e66cde4e9a9581d7bebdfabcf1e88f7a481fe84dadb2ee89c630475806582415b60407ccd9bc9d342b03af7d7bf579e3d11ff5903ed09b5a65dd138d618eb00cb0482a6c090e9201fc98b3793b6956065efbf6eaf326baffaeb4b7df76d90fc31c6119609154d8121c3067f376d2ac0cbcf6edd5e74d74ff5d696fbfedb21f8639c232c022a9b0253860cee6eda4591978eddbabcf9be8febbd2de7edb653f0c738465804552614b70c09ccddb49b332f0dab7579f37d1fd77a5bdfdb6cb7e18e608cb008ba4c29301fc96e080399bb7936665e0b56faf3e6fa2fbef4a7bfb6d97fd30cc1196011649852dc10173366f27cdcac06bdf5e7dde44f7df95f6f6db2efb6198232c032c920a5b8203e66cde4e9a9581d7bebdfabc89eebf2bededb75df6c330475806582415b60407ccd9bc9d342b03af7d7bf57913dd7f57dadb6fbbec87618eb00cb09401fc482a6c090e98b3793b6956065efbf6eaf326baffaeb4b7df76d90fc31c6119609154d8121c3067f376d2ac0cbcf6edd5e74d74ff5d696fbfedb21f8639c232c022a9b0253860cee6eda4591978eddbabcf9be8febbd2de7edb653f0c738465804552614b70c09ccddb49b332f0dab7579f37d1fd77a5bdfdb6cb7e18e6089501fccb008ba4c296e080399bb7936665e0b56faf3e6fa2fbef4a7bfb6d97fd30cc1196011649852dc10173366f27cdcac06bdf5e7dde44f7df95f6f6db2efb6198232c032c920a5b8203e66cde4e9a9581d7bebdfabc89eebf2bededb75df6c33047580658248596201cd07b890faf7d7bf57913dd7f57dadb6fbbec87618eb09601fc0cb0480a2d4138a0f7121f5efbf6eaf326baffaeb4b7df76d90fc31c61196091145a827040ef253ebcf6edd5e74d74ff5d696fbfedb21f8639c232c02229b404e180de4b7c78eddbabcf9be8febbd2de7edb653f0c7384658045526809c201bd97f8f0dab7579f37d1fd77a5bdfdb6cb7e18e608cb008b322dec81e4785e9701fcbf2daf3e6fa2fbef4a7bfb6d97fd30cc11960116655ad803c9f1bc7e5b5e7dde44f7df95f6f6db2efb6198232c032ccab4b00792e379fdb6bcfabc89eebf2bededb75df6c330475806589469610f24c7f3fa6d79f57913dd7f57dadb6fbbec87618eb00cb028d3c21e488ee7f5dbf2eaf326baffaeb4b7dfd07e7681e68d9801fc14960116655ad803c9f1bc7e5b5e7dde44f7df95f6f61bdacf2ed0bc91c232c0a24c0b7b20399ed76fcbabcf9be8febbd2de7e43fbd9059a37525806589469610f24c7f3fa6d79f57913dd7f57dadb6f683fbb40f3460acb008b322dec81e4785ebf2daf3e6fa2fbef4a7bfb0ded671768de4861196051a6853d901ccfeb9901fcb7e5d5e74d74ff5d696f9225ecb7068b322dec81e4785ebf2daf3e6fa2fbef4a7b932c61bf35589469610f24c7f3fa6d79f57913dd7f57da9b6409fbadc1a24c0b7b20399ed76fcbabcf9be8febbd2de244bd86f0d16655ad803c9f1bc7e5b5e7dde44f7df95f62659c27e6bb028d3c21e488ee7f5dbf2eaf326baffaeb49a01fc37c912f65b83459916f640723cafdf96579f37d1fd7785f6269205fd26a7c1a24c0b7b20399ed76fcbabcf9be8febb427b13c9827e93d36051a6853d901ccfebb7e5d5e74d74ff5da1bd896441bfc969b028d3c21e488ee7f5dbf2eaf326baffaed0de44b2a0dfe434589469610f24c7f3fa6d79f57913dd7f57686f22599b01fcd06f721a2ccab4b00792e379fdb6bcfabc89ee2f22a46051a6a13fa222ecd06f7955747f1121058b320dfd111561877ecbaba2fb8b0829589469e88fa8083bf45b5e15dd5f4448c1a24c437f4445d8a1dff2aae8fe22420a16651afa232ac20efd965745f7171152b0282234d07fd05da079446433b0282234d07fd05da09c01fc79446433b0282234d07fd05da079446433b0282234d07fd05da079446433b0282234d07fd05da079446433b0282222223202164544444446c0a2888888c808581411111119018b2222222223605144444464042c8a8888888c80451111119111b0282222223202164544444446c0a2888888c808581411111119018b22229d0060222223605144444464042c8a8888888c804511111191ffea3ffffe1f81019442ea61687b0000000049454e44ae426082")?;
    let meta_loader = MetaLoader::builder().build()?;
    let content_res: JettonMetadata = assert_ok!(meta_loader.load(&res.content).await);

    let target_image_hash: TonHash = TonHash::from([
        45, 186, 67, 118, 224, 166, 76, 84, 0, 203, 69, 175, 47, 34, 164, 184, 36, 229, 51, 193, 17, 18, 84, 70, 179,
        240, 137, 163, 42, 147, 119, 220,
    ]);

    let mut hasher: Sha256 = Sha256::new();
    hasher.update(&content_res.image_data.unwrap()[1..]);
    let img_hash = hasher.finalize()[..].to_vec();
    assert_eq!(target_image_hash.as_slice(), img_hash.as_slice());

    Ok(())
}

#[tokio::test]
async fn test_meta_data_load_ordinal_https() -> anyhow::Result<()> {
    let loader = MetaLoader::builder().build()?;

    let metadata =
        loader.load_external_meta("https://s.getgems.io/nft/b/c/62fba50217c3fe3cbaad9e7f/95/meta.json").await?;

    let expected_meta = NFTItemMetadata {
        name: Some(String::from("TON Smart Challenge #2 Winners Trophy")),
        description: Some(String::from("TON Smart Challenge #2 Winners Trophy 93 place out of 181")),
        image: Some(String::from(
            "https://s.getgems.io/nft/b/c/62fba50217c3fe3cbaad9e7f/images/943e994f91227c3fdbccbc6d8635bfaab256fbb4",
        )),
        content_url: Some(String::from(
            "https://s.getgems.io/nft/b/c/62fba50217c3fe3cbaad9e7f/content/84f7f698b337de3bfd1bc4a8118cdfd8226bbadf",
        )),
        attributes: Some(serde_json::Value::Array(vec![])),
    };
    assert_eq!(expected_meta, serde_json::from_str(&metadata)?);
    Ok(())
}
